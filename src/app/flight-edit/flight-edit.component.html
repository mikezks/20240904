<div class="card">
  <div class="card-header">
    <h2 class="card-title">Flight Edit</h2>
  </div>

  <mat-dialog-content>
    <div class="card-body">
      <form #form="ngForm">
        @if (!form?.controls?.['from']?.valid) {
          <div class="alert alert-danger">
            Validation errors in 'from'.
          </div>
        }

        @if (form?.controls?.['from']?.hasError ('required')) {
          <div class="alert alert-danger">
            The field 'from' is required!
          </div>
        }

        @if (form?.controls?.['from']?.hasError ('minlength')) {
          <div class="alert alert-danger">
            The field 'from' needs to have at least
            {{form?.controls?.['from']?.errors?. ['minlength']?.requiredLength}}
            characters.
          </div>
        }

        @if (!form?.controls?.['from']?.valid) {
          <div class="alert alert-danger">
            Internal error object: {{ form?.controls?. ['from']?.errors | json }}
          </div>
        }

        <div class="form-group">
          <input name="id" [(ngModel)]="flight.id"  class="form-control" />
        </div>

        <div class="form-group">
          <input name="from" [(ngModel)]="flight.from"  required minlength="3" class="form-control" />
        </div>

        <div class="form-group">
          <input name="to" [(ngModel)]="flight.to"  class="form-control" />
        </div>

        <div class="form-group">
          <input name="date" [(ngModel)]="flight.date"  class="form-control" />
        </div>

        <div class="form-group">
          <input
            name="delayed"
            id="delayed"
            [(ngModel)]="flight.delayed"
            type="checkbox"
            class="form-checkbox"
          />
          <label for="delayed">Delayed</label>
        </div>

        <div class="form-group">
          <button (click)="close()" class="btn  btn-default">Close</button>
        </div>
      </form>
    </div>
  </mat-dialog-content>
</div>
